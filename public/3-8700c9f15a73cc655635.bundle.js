(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{946:function(e,t,l){var r=l(2),n=l(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatsRoute=void 0;var a=n(l(16)),o=n(l(224)),i=l(36),c=r(l(1)),d=n(l(10)),u=n(l(29)),f=n(l(9)),s=l(51),m=l(947),g=n(l(14)),v=l(97),h=n(l(225)),p=l(152),S=l(115),b=l(402),w=n(l(153)),E=l(156),y=l(399),x=d.default.create({screen:{flex:1,backgroundColor:"black",borderRadius:8,overflow:"hidden"},header:{position:"relative",height:76,width:"100%",overflow:"visible",flex:0,flexDirection:"row",paddingVertical:20,backgroundColor:"black",justifyContent:"center"},scrollViewStyle:{height:"100%"},scrollWrap:{flex:1},headerLabel:{flex:1},title:{textAlign:"center",fontSize:16,fontWeight:"500",color:"white"},listContainer:{},listSection:{paddingVertical:12,marginBottom:32},listSectionTitle:{fontSize:16,color:"white",paddingHorizontal:16,marginBottom:8,fontWeight:"700"},listSectionTitleSpacer:{borderBottomWidth:1,borderBottomColor:"rgb(42,42,42)",paddingBottom:8},closeButton:{position:"absolute",right:0,top:0,bottom:0,alignItems:"center"},closeButtonView:{padding:8},closeButtonText:{}}),C=function(){var e=(0,i.useNavigation)().goBack;c.useContext(S.CountryContext).country;return c.createElement(f.default,{style:[x.header,{paddingTop:16}]},c.createElement(b.CountryPicker,null),c.createElement(f.default,{style:x.closeButton},c.createElement(s.BorderlessButton,{onPress:e},c.createElement(g.default.View,{style:x.closeButtonView},c.createElement(y.CloseButtonImage,null)))))},R=d.default.create({container:{},header:{flexDirection:"row",paddingHorizontal:16,paddingVertical:8,alignItems:"center"},headerLabel:{fontSize:16,color:"#ccc",fontWeight:"500",marginRight:8},headerSource:{marginRight:4,color:"rgb(50,50,50)",fontSize:12},valueRow:{flexDirection:"row",paddingHorizontal:16,paddingVertical:12},valueLeft:{flex:1,flexDirection:"row"},valueNumber:{fontSize:48,color:"white",textAlign:"center"},valueRight:{flexDirection:"row",alignItems:"center"},deltaDirection:{flex:0,flexDirection:"row",alignItems:"center"},deltaPercent:{flex:0,flexDirection:"row",alignItems:"center"},deltaPercentLabel:{flex:0,alignItems:"center",color:"#ccc",flexDirection:"row"},deltaValue:{flex:0,alignItems:"center"},deltaUnitLabel:{color:"white",flexDirection:"row"},deltaSpacer:{width:4,height:1}}),B=function(e){var t=e.label,l=e.value,r=e.source,n=e.updatedAt,a=(e.deltaPercentage,e.deltaUnit,"number"==typeof l?(0,w.default)(l).format("0,0"):l);return c.createElement(f.default,{style:R.container},c.createElement(f.default,{style:R.header},c.createElement(u.default,{style:R.headerLabel},t),c.createElement(u.default,{adjustsFontSizeToFit:!0,numberOfLines:1,lineBreakMode:"tail",style:R.headerSource},n&&c.createElement(c.Fragment,null,c.createElement(E.Timestamp,{time:n})," ago "),"via ",r)),c.createElement(f.default,{style:R.valueRow},c.createElement(f.default,{style:R.valueLeft},c.createElement(u.default,{style:R.valueNumber},a)),c.createElement(f.default,{style:R.valueRight})))},k=function(e){(0,o.default)(e);var t=c.useContext(S.CountryContext),l=t.countryCode,r=t.country,n=c.useState("week"),i=(0,a.default)(n,2),d=i[0],u=(i[1],(0,h.default)(p.TOTALS_URL,p.apiFetcher)),s=u.data,g=void 0===s?[]:s,b=(u.error,(0,h.default)(p.COUNTRIES_URL,p.apiFetcher)),w=b.data,E=void 0===w?[]:w,y=(b.error,(0,h.default)(p.USER_REPORT_STATS,p.apiFetcher)),R=y.data,k=(y.error,c.useState((function(){if(g.length>0&&"World"===l)return g[0].infections;var e=E.find((function(e){return e.id===l}));return e?e.infections:{recover:0,dead:0,confirm:0}}))),T=(0,a.default)(k,2),V=T[0],D=T[1];c.useEffect((function(){if("World"===r&&g[0])D(g[0].infections);else{var e=E.find((function(e){return e.id===r}));e&&D(e.infections)}}),[r,g,E,D]);(0,v.useSafeArea)().bottom;return c.createElement(f.default,{style:x.screen},c.createElement(C,null),c.createElement(f.default,{style:x.scrollWrap},c.createElement(m.ScrollView,{style:x.scrollViewStyle},c.createElement(B,{label:"Confirmed Cases",value:V.confirm,source:"John Hopkins CSSE"}),c.createElement(B,{label:"Self-reported",value:(null==R?void 0:R.interval[d][l])||"-",updatedAt:null==R?void 0:R.last_updated,deltaPercentage:null==R?void 0:R.delta[d][l],source:"Covy"}),c.createElement(B,{label:"Deaths",value:V.dead||0,source:"John Hopkins CSSE"}),c.createElement(B,{label:"Recovered",value:V.recover,source:"John Hopkins CSSE"}))))};t.StatsRoute=k;var T=k;t.default=T},947:function(e,t,l){var r=l(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ScrollView",{enumerable:!0,get:function(){return n.default}});var n=r(l(69))}}]);
//# sourceMappingURL=3-8700c9f15a73cc655635.bundle.js.map