(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{944:function(e,t,n){var o=n(2),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CountryPickerRoute=t.CountryFastList=void 0;var l=r(n(224)),i=n(36),a=r(n(153)),c=o(n(1)),u=r(n(10)),s=r(n(29)),d=r(n(9)),f=r(n(13)),h=n(51),g=r(n(14)),y=r(n(225)),m=n(152),C=n(399),b=n(115),w=r(n(157)),v=n(70),E=n(60),x=n(400),p=n(154),k=E.SCREEN_DIMENSIONS.height,H={top:0,left:0,right:1,bottom:0},L=u.default.create({header:{position:"relative",height:64,width:"100%",zIndex:10,flex:0,flexDirection:"row",paddingVertical:20,backgroundColor:"black",justifyContent:"center"},title:{textAlign:"center",fontSize:16,fontWeight:"500",color:"white"},headerLabel:{flex:1},closeButton:{position:"absolute",right:0,top:0,bottom:0,alignItems:"center"},closeButtonView:{padding:8},closeButtonText:{}}),S=function(){var e=(0,i.useNavigation)().goBack;c.useContext(b.CountryContext).country;return c.createElement(d.default,{style:[L.header,{paddingTop:16}]},c.createElement(d.default,{style:L.headerLabel},c.createElement(s.default,{style:L.title},"Country/Region")),c.createElement(d.default,{style:L.closeButton},c.createElement(h.BorderlessButton,{onPress:e},c.createElement(g.default.View,{style:L.closeButtonView},c.createElement(C.CloseButtonImage,null)))))},I=u.default.create({container:{height:56,paddingHorizontal:16,alignItems:"center",flexDirection:"row",flex:1,width:"100%"},icon:{width:40,marginRight:20},label:{flex:1,fontSize:18,color:"white"},confirmedCount:{color:"#0091FF",fontSize:18,textAlign:"right"},sectionHeader:{flexDirection:"row",height:24,paddingHorizontal:16},sectionHeaderLabel:{fontSize:16,fontWeight:"500",color:"#ccc"},sectionHeaderLeft:{flexDirection:"row",alignItems:"center",flex:1},sectionHeaderRight:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},button:{height:56}}),R=c.memo((function(e){var t=e.country,n=e.countryCode,o=e.label,r=e.count,l=e.onPress,i=(e.isSelected,e.height,c.useCallback((function(){return l(t,n,o)}),[t,n,o]));return c.createElement(v.ListClicker,{style:I.button,onPress:i},c.createElement(g.default.View,{style:I.container},c.createElement(s.default,{style:I.label},o),c.createElement(s.default,{style:I.confirmedCount},(0,a.default)(r).format("0,0"))))})),B=function(e){return(0,l.default)(e),c.createElement(d.default,{style:I.sectionHeader},c.createElement(s.default,{style:[I.sectionHeaderLabel,I.sectionHeaderLeft]},"Country/Region"),c.createElement(s.default,{style:[I.sectionHeaderLabel,I.sectionHeaderRight]},"Confirmed Cases"))},P=u.default.create({page:{flex:1,width:"100%",backgroundColor:"black"},container:{width:"100%",flex:1,position:"relative"},list:f.default.select({web:{flex:1,flexShrink:0,width:"100%",overflow:"visible"},ios:{flex:1,flexShrink:0,width:"100%",overflow:"visible"}})}),F={bottom:112,top:0,left:0,right:0},z=function(e){var t=e.countries,n=e.onPress,o=(e.countryCode,e.height),r=e.isLoading,l=void 0!==r&&r,i=c.useCallback((function(e,o){var r=t[o],l=r.country,i=r.countryCode,a=r.label,u=r.count;return c.createElement(R,{country:l,key:i,countryCode:i,label:a,count:u,onPress:n})}),[t,n]),a=c.useCallback((function(){return c.createElement(B,null)}),[B]),u=c.useMemo((function(){return[t.length]}),[t,t.length]);c.useCallback((function(e){return 0===e?56:0}),[]);return c.createElement(d.default,{pointerEvents:"box-none",height:o,style:P.container},c.createElement(w.default,{contentInsetAdjustmentBehavior:"never",keyboardDismissMode:"on-drag",contentInset:F,scrollIndicatorInsets:H,automaticallyAdjustContentInsets:!1,keyboardShouldPersistTaps:"always",isLoading:l,renderRow:i,containerHeight:o,scrollToOverflowEnabled:!0,overScrollMode:"automatic",footerHeight:0,isFastList:!0,stickyHeaders:!1,style:P.list,isFastList:!0,rowHeight:56,headerHeight:24,sections:u,renderHeader:a}))};t.CountryFastList=z;var D=function(e){(0,l.default)(e);var t=c.useContext(b.CountryContext),n=(t.country,t.countryCode),o=t.setCountry,r=(0,i.useNavigation)().goBack,a=(0,y.default)(m.COUNTRIES_URL,m.apiFetcher),u=a.data,s=void 0===u?[]:u,f=(a.error,(0,y.default)(m.TOTALS_URL,m.apiFetcher)),h=f.data,g=void 0===h?[]:h,C=(f.error,c.useMemo((function(){var e,t,n,o=s.map((function(e){return{country:e.id,label:e.label,count:e.infections.confirm,countryCode:(0,x.getCode)(e.label)}}));return[{country:"World",countryCode:"World",label:"World",count:null!=(e=null==(t=g[0])||null==(n=t.infections)?void 0:n.confirm)?e:0}].concat(o)}),[s,s.length,x.getCode,g])),w=c.useCallback((function(e,t){(0,p.sendSelectionFeedback)(),o(e,t),r()}),[o,r]);return c.createElement(d.default,{style:P.page},c.createElement(S,null),c.createElement(z,{countries:C,countryCode:n,onPress:w,height:k-64}))};t.CountryPickerRoute=D;var T=D;t.default=T}}]);
//# sourceMappingURL=4-8700c9f15a73cc655635.bundle.js.map